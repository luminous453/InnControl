# InnControl - Система администрирования гостиниц

Проект представляет собой веб-приложение для администрирования гостиницы. Система позволяет управлять номерным фондом, бронированиями, клиентами, персоналом и расписанием уборок.

## Структура проекта

Проект разделен на две части:
- **frontend** - клиентская часть, разработанная на Next.js с использованием React и Tailwind CSS
- **backend** - серверная часть, разработанная на FastAPI с использованием SQLAlchemy для работы с базой данных PostgreSQL

## Технологии

### Frontend
- Next.js 14
- React 18
- Tailwind CSS
- TypeScript
- React Icons для иконок
- Модульный API сервис для взаимодействия с backend

### Backend
- FastAPI
- SQLAlchemy
- PostgreSQL
- Python 3.9+
- JWT авторизация

## Особенности системы

- Адаптивный пользовательский интерфейс
- Модульная архитектура приложения
- REST API с документацией (Swagger UI)
- Управление состоянием с использованием React Hooks
- Оптимизированные запросы к базе данных
- Обработка ошибок и валидация данных

## Установка и запуск

### Быстрый старт

1. Клонируйте репозиторий
   ```bash
   git clone https://github.com/luminous453/InnControl.git
   cd InnControl
   ```

2. Запустите backend
   ```bash
   cd backend
   pip install -r requirements.txt
   uvicorn main:app --reload
   ```

3. Запустите frontend
   ```bash
   cd frontend
   npm install
   npm run dev
   ```

4. Откройте браузер и перейдите по адресу http://localhost:3000

### Подробная инструкция

#### Backend

1. Перейдите в директорию backend
   ```bash
   cd backend
   ```

2. Создайте и активируйте виртуальное окружение Python
   ```bash
   # Windows
   python -m venv venv
   venv\Scripts\activate
   
   # Linux/Mac
   python3 -m venv venv
   source venv/bin/activate
   ```

3. Установите зависимости
   ```bash
   pip install -r requirements.txt
   ```

4. Запустите сервер
   ```bash
   # Вариант 1: с помощью uvicorn
   uvicorn main:app --reload
   
   # Вариант 2: запуск через Python
   python main.py
   ```
   
   Backend API будет доступен по адресу http://localhost:8000
   Документация API доступна по адресу http://localhost:8000/docs

#### Frontend

1. Перейдите в директорию frontend
   ```bash
   cd frontend
   ```

2. Установите зависимости
   ```bash
   npm install
   ```

3. Запустите сервер разработки
   ```bash
   npm run dev
   ```
   
   Клиентское приложение будет доступно по адресу http://localhost:3000

## Реализованные функции

### Управление номерным фондом
- Просмотр списка всех номеров
- Фильтрация по типу номера и статусу
- Добавление новых номеров
- Редактирование информации о номере
- Изменение статуса номера (доступен, занят, на обслуживании)
- Просмотр истории бронирований номера

### Управление клиентами
- Просмотр списка клиентов с информацией о бронированиях
- Поиск клиентов по имени или паспортным данным
- Фильтрация по городу проживания
- Добавление новых клиентов

### Управление бронированиями
- Просмотр всех бронирований
- Фильтрация по статусу
- Создание новых бронирований с проверкой доступности номеров
- Автоматический расчет стоимости бронирования

### Управление персоналом
- Просмотр списка сотрудников
- Добавление новых сотрудников
- Изменение статуса сотрудников (активен, в отпуске, уволен)
- Редактирование данных сотрудника (должность, контактная информация)
- Удаление сотрудников из базы данных
- Управление уровнем доступа сотрудников

### Управление уборками
- Просмотр расписания уборок по дням недели и этажам
- Просмотр журнала уборок с информацией о номере и сотруднике
- Фильтрация записей по дате, статусу и сотруднику
- Добавление новых записей в журнал уборок

## Структура API

Основные эндпоинты API:

- `/employees/` - управление сотрудниками
  - `GET /employees/` - получение списка всех сотрудников
  - `POST /employees/` - добавление нового сотрудника
  - `GET /employees/{employee_id}` - получение информации о конкретном сотруднике
  - `PUT /employees/{employee_id}` - обновление данных сотрудника
  - `PATCH /employees/{employee_id}/status` - изменение статуса сотрудника
  - `DELETE /employees/{employee_id}` - удаление сотрудника

- `/clients/` - управление клиентами
  - `GET /clients/` - получение списка всех клиентов
  - `POST /clients/` - добавление нового клиента
  - `GET /clients/{client_id}` - получение информации о конкретном клиенте

- `/rooms/` - управление номерами
  - `GET /rooms/` - получение списка всех номеров
  - `POST /rooms/` - добавление нового номера
  - `GET /rooms/{room_id}` - получение информации о конкретном номере
  - `PUT /rooms/{room_id}` - обновление данных номера
  - `PATCH /rooms/{room_id}/status` - изменение статуса номера
  - `GET /rooms/available` - получение списка доступных номеров
  - `GET /rooms/types` - получение списка типов номеров

- `/bookings/` - управление бронированиями
  - `GET /bookings/` - получение списка всех бронирований
  - `POST /bookings/` - создание нового бронирования
  - `GET /bookings/{booking_id}` - получение информации о конкретном бронировании

- `/cleaning-schedules/` - управление расписанием уборок
  - `GET /cleaning-schedules/` - получение расписания уборок

- `/cleaning-logs/` - управление журналом уборок
  - `GET /cleaning-logs/` - получение журнала уборок
  - `POST /cleaning-logs/` - добавление новой записи в журнал

Полный список эндпоинтов доступен в Swagger UI документации по адресу http://localhost:8000/docs

Для входа в систему используйте:
- Логин: `admin`
- Пароль: `admin`

## Функциональность

- Управление номерным фондом (добавление, редактирование, просмотр номеров)
- Управление бронированиями (создание, редактирование, отмена бронирований)
- Управление клиентами (регистрация, поиск, просмотр истории)
- Управление персоналом (добавление, увольнение, назначение обязанностей)
- Управление уборками (расписание, журнал выполненных работ)
- Формирование отчетов (заполняемость, доходность) 